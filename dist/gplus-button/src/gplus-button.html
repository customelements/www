<!-- Import Polymer -->
<link rel="import" href="../bower_components/polymer/polymer.html">

<!-- Define your custom element -->
<polymer-element name="gplus-button"
         attributes="annotation href size pageId lang rel width height type">

    <script>
        Polymer("gplus-button", {
            annotation  : "bubble",
            href        : "http://customelements.io",
            size        : "standard",
            pageId      : "109325404047497404656",
            lang        : "en-US",
            rel         : "",
            width       : 300,
            height      : 20,
            type        : "g-plusone",

            ready: function () {
                var script = document.createElement("script"),
                    div = document.createElement("div"),
                    body = document.body;

                script.setAttribute("type", "text/javascript");
                script.setAttribute("src", "https://apis.google.com/js/plusone.js");
                script.setAttribute("async", true);
                script.innerHTML = "{lang: '" + this.lang + "'}";

                div.setAttribute("class", this.type);

                if (this.type === "g-follow" ) {
                    div.setAttribute("data-href", ("http://plus.google.com/" + this.pageId));
                    div.setAttribute("data-annotation", this.annotation);
                    div.setAttribute("data-rel", this.rel);
                    div.setAttribute("data-height", this.height);
                }
                else if (this.type === "g-plusone" ) {
                    div.setAttribute("href", this.href);
                    div.setAttribute("size", this.size);
                    div.setAttribute("width", this.width);
                    div.setAttribute("annotation", this.annotation);
                }

                body.appendChild(div);
                body.appendChild(script);
            }
        });
    </script>

</polymer-element>
